---
import Layout from '../../layouts/layout.astro';
import RatesTable from '../../components/rates-table.astro';
import { fetchRates } from '../../ts/API/useRates';
import { Schema } from 'astro-seo-schema';

const { rates, lastUpdate } = await fetchRates();

const pageData = {
  title: 'Exchange Rates | Genes Exchange Office Novi Sad',
  description:
    'Updated exchange rates with buying and selling prices for Euro (EUR), Dollar (USD), Franc (CHF), British Pound (GBP), Australian (AUD) and Canadian Dollar (CAD), as well as Convertible Mark (BAM).',
};
---

<Layout
  title={pageData.title}
  description={pageData.description}
  ogImage="/images/GenesLogoMeta.webp"
  lang="en"
>
  <Schema
    item={{
      '@context': 'https://schema.org',
      '@graph': [
        {
          '@type': 'WebPage',
          '@id': 'https://menjacnicagenes.rs/en/exchange-rates/#webpage',
          url: 'https://menjacnicagenes.rs/en/exchange-rates',
          name: pageData.title,
          description: pageData.description,
          inLanguage: 'en-US',
          isPartOf: { '@id': 'https://menjacnicagenes.rs/#website' },
        },
        {
          '@type': 'BreadcrumbList',
          '@id': 'https://menjacnicagenes.rs/en/exchange-rates/#breadcrumb',
          itemListElement: [
            {
              '@type': 'ListItem',
              position: 1,
              name: 'Home',
              item: 'https://menjacnicagenes.rs/en',
            },
            {
              '@type': 'ListItem',
              position: 2,
              name: 'Exchange Rates',
              item: 'https://menjacnicagenes.rs/en/exchange-rates',
            },
          ],
        },
      ],
    }}
  />
  <main class="exchange-rates">
    <RatesTable
      rates={rates}
      lastUpdate={lastUpdate}
      lastUpdateText="Last update:"
      disclaimer="The rates are for informational purposes only and are subject to change."
      buyLabel="Buy"
      sellLabel="Sell"
      dayLabel="Today"
      weekLabel="This week"
      monthLabel="This month"
      yearLabel="This year"
      backButton="Go back"
      currencyLabel="Currency"
    />
  </main>
</Layout>
