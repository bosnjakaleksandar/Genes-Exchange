---
import Layout from '../../layouts/layout.astro';
import Hero from '../../components/hero.astro';
import About from '../../components/about.astro';
import Info from '../../components/info.astro';
import Calculator from '../../components/calculator.astro';
import { fetchRates } from '../../ts/API/useRates';
import moneyExchange from '../../assets/money-exchange.webp';
import payspotInvoices from '../../assets/payspot-invoices.webp';
import lutrija from '../../assets/lutrija.webp';
import Accordion from '../../components/accordion.astro';
import { Schema } from 'astro-seo-schema';

const { rates, lastUpdate } = await fetchRates();
const eurRate = rates.find((rate) => rate.currency === 'EUR');

const pageData = {
  title: 'Genes Exchange Office Novi Sad',
  description:
    'Genes Exchange Office Novi Sad is your trusted exchange office for currency exchange, bill payments, insurance, and utilities. Safe, fast, and simple. Over 10 years with you. Visit us at Hajduk Veljkova 11, Novi Sad at the Novi Sad Fair.',
  hero: {
    title: 'Genes Exchange Office Novi Sad',
    description: 'Your trusted partner for currency exchange and financial services.',
    buttonText: 'Exchange Rates',
    buttonLink: '/en/exchange-rates',
    buttonIcon: 'arrow-right',
    currency: 'Euro Rate',
    updateText: 'Last update',
  },
  about: {
    title: 'About Us',
    linkText: 'Location on Map',
    strong: 'Genes Exchange Office',
    description:
      'is located in Novi Sad, at Hajduk Veljkova 11, near the official entrance 2 of the Novi Sad Fair. We provide currency exchange services at favorable and transparent rates, payment transfer services in cooperation with the payment institution PaySpot, as well as games of luck from the State Lottery of Serbia. If you are looking for a reliable exchange office in Novi Sad, our team is at your disposal every working day.',
  },
  services: [
    {
      title: 'Currency Exchange Services',
      description:
        'We offer buying, selling and conversion of foreign currency, with the possibility of negotiating favorable rates for larger transactions.',
      imageAlt: 'money-exchange',
      imageSrc: moneyExchange,
      reverse: false,
    },
    {
      title: 'Payment Transfer Services',
      description:
        'We provide payment transfer services (bill payments, utilities, insurance, bills...) in cooperation with Payspot. For precise information about fees, visit the Payspot website.',
      imageSrc: payspotInvoices,
      imageAlt: 'payspot-invoices',
      reverse: true,
      buttons: [
        {
          text: 'Visit Payspot',
          href: 'https://www.payspot.rs/',
          target: '_blank' as '_blank',
          icon: 'arrow-right',
        },
        {
          text: 'Fee Calculator',
          href: 'https://www.payspot.rs/kalkulator',
          target: '_blank' as '_blank',
          icon: 'arrow-right',
        },
      ],
    },
    {
      title: 'Lottery',
      description:
        'Buy your lottery ticket for Loto or Bingo, scratch a ticket or participate in one of the games of the Serbian Lottery. Maybe you will be the next winner! Only for persons over 18 years old.',
      imageSrc: lutrija,
      imageAlt: 'lutrija',
      reverse: false,
    },
  ],
  accordion: {
    title: 'Frequently Asked Questions',
    buttonText: 'View all FAQs',
    buttonLink: '/en/faq',
    faqs: [
      {
        question: 'What are your working hours?',
        answer:
          'Our exchange office is open Monday to Friday from 08:30 to 17:00, Saturday from 08:30 to 14:00, and closed on Sundays.',
      },
      {
        question: 'Do you charge a commission for currency exchange?',
        answer:
          'No, we do not charge any commission for currency exchange. Our rates are transparent with no hidden fees.',
      },
      {
        question: 'How long does it take to process a payment order?',
        answer:
          'Payment orders received on business days before 16:30 are processed the same day, while orders received after that time will be processed the next business day.',
      },
    ],
  },
};
---

<Layout
  title={pageData.title}
  description={pageData.description}
  ogImage="/images/GenesLogoMeta.webp"
  lang="en"
>
  <Schema
    item={{
      '@context': 'https://schema.org',
      '@graph': [
        {
          '@type': 'LocalBusiness',
          '@id': 'https://menjacnicagenes.rs/#organization',
          name: 'Genes Exchange Office',
          alternateName: 'MenjaÄnica Genes',
          url: 'https://menjacnicagenes.rs/en/',
          logo: 'https://menjacnicagenes.rs/images/GenesLogoMeta.webp',
          image: 'https://menjacnicagenes.rs/images/GenesLogoMeta.webp',
          description: pageData.description,
          email: 'menjacnicagenes@gmail.com',
          address: {
            '@type': 'PostalAddress',
            streetAddress: 'Hajduk Veljkova 11',
            addressLocality: 'Novi Sad',
            postalCode: '21000',
            addressCountry: 'RS',
          },
          geo: {
            '@type': 'GeoCoordinates',
            latitude: 45.258443638398376,
            longitude: 19.82320808465672,
          },
          openingHoursSpecification: [
            {
              '@type': 'OpeningHoursSpecification',
              dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
              opens: '08:30',
              closes: '17:00',
            },
            {
              '@type': 'OpeningHoursSpecification',
              dayOfWeek: 'Saturday',
              opens: '08:30',
              closes: '14:00',
            },
          ],
          areaServed: {
            '@type': 'City',
            name: 'Novi Sad',
          },
          priceRange: '$$',
          currenciesAccepted: 'EUR, USD, CHF, AUD, CAD, GBP, BAM, RSD',
          paymentAccepted: 'Cash',
        },
        {
          '@type': 'WebPage',
          '@id': 'https://menjacnicagenes.rs/en/#webpage',
          url: 'https://menjacnicagenes.rs/en/',
          name: pageData.title,
          about: { '@id': 'https://menjacnicagenes.rs/#organization' },
          description: pageData.description,
          inLanguage: 'en-US',
          isPartOf: { '@id': 'https://menjacnicagenes.rs/#website' },
        },
        {
          '@type': 'FAQPage',
          '@id': 'https://menjacnicagenes.rs/en/#faq',
          isPartOf: { '@id': 'https://menjacnicagenes.rs/en/#webpage' },
          mainEntity: pageData.accordion.faqs.map((faq) => ({
            '@type': 'Question',
            name: faq.question,
            acceptedAnswer: {
              '@type': 'Answer',
              text: faq.answer,
            },
          })),
        },
      ],
    }}
  />
  <main class="homepage">
    <Hero
      title={pageData.hero.title}
      description={pageData.hero.description}
      buttonText={pageData.hero.buttonText}
      buttonHref={pageData.hero.buttonLink}
      buttonIcon={pageData.hero.buttonIcon}
      currency={pageData.hero.currency}
      updateText={pageData.hero.updateText}
      eurRate={eurRate}
      lastUpdate={lastUpdate}
    />
    <About
      title={pageData.about.title}
      linkText={pageData.about.linkText}
      strong={pageData.about.strong}
      description={pageData.about.description}
    />
    <Calculator lang="en" />
    {
      pageData.services.map((service) => (
        <Info
          title={service.title}
          description={service.description}
          imageSrc={service.imageSrc}
          imageAlt={service.imageAlt}
          reverse={service.reverse}
          buttons={service.buttons}
        />
      ))
    }
    <Accordion
      title={pageData.accordion.title}
      questions={pageData.accordion.faqs}
      buttonLink={pageData.accordion.buttonLink}
      buttonText={pageData.accordion.buttonText}
    />
  </main>
</Layout>
