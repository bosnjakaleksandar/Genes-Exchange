---
import { Image } from 'astro:assets';
import Icon from './Icon.astro';
import ProtectedEmail from './ProtectedEmail.astro';
import GenesLogoWhite from '../assets/GenesLogo-white.webp';

export interface Props {
  lang?: 'sr' | 'en';
}

const { lang = 'sr' } = Astro.props;

const translations = {
  sr: {
    copyright:
      '&copy; 2025 Menjačnica Genes. All rights reserved. Design and Development by @bosnjakaleksandar.',
    contactUs: 'Kontaktirajte nas',
    home: 'Početna',
    list: 'Kursna lista',
    faq: 'Česta pitanja',
    timeText: 'Radno vreme',
    timeOne: 'Ponedeljak - Petak 08:30H do 17:00H',
    timeTwo: 'Subota 08:30H do 14:00H',
    timeThree: 'Nedelja neradna',
  },
  en: {
    copyright:
      '&copy; 2025 Exchange office Genes. All rights reserved. Design and Development by @bosnjakaleksandar.',
    contactUs: 'Contact us',
    home: 'Home',
    list: 'Exchange rates',
    faq: 'FAQ',
    timeText: 'Working hours',
    timeOne: 'Monday - Friday 08:30 AM to 5:00 PM',
    timeTwo: 'Saturday 08:30 AM to 2:00 PM',
    timeThree: 'Sunday closed',
  },
};

const t = translations[lang];
const GOOGLE_API_KEY = import.meta.env.GOOGLE_API_KEY;
---

<footer class="footer">
  <div class="footer__container">
    <div class="footer__top">
      <div class="footer__content">
        <a class="footer__logo" href={lang === 'en' ? '/en' : '/'}
          ><Image
            src={GenesLogoWhite}
            alt="Genes Exchange Office Logo"
            loading="lazy"
            decoding="async"
          /></a
        >
        <div class="footer__info">
          <p class="footer__contact rw-32-500"><Icon name="mailbox" /> {t.contactUs}</p>
          <ProtectedEmail email="menjacnicagenes@gmail.com" class="footer__email rw-32-500" />
          <a
            href="https://maps.app.goo.gl/PqkcixPaiKDwYvA6A"
            target="_blank"
            rel="noopener noreferrer"
            title="Menjačnica Genes lokacija na Google Maps"
            class="footer__address-link rw-32-500"
          >
            <address class="footer__address rw-32-500">
              <Icon name="map-pin" /> Hajduk Veljkova 11, Novi Sad
            </address>
          </a>
          <p class="footer__time rw-32-500"><Icon name="clock" /> {t.timeText}</p>
          <time class="rw-20-500"> {t.timeOne}<br />{t.timeTwo}<br />{t.timeThree}</time>
        </div>
        <ul class="footer__list">
          <li class="footer__item">
            <a href={lang === 'en' ? '/en' : '/'} class="footer__link rw-24-500">{t.home}</a>
          </li>
          <li class="footer__item">
            <a
              href={lang === 'en' ? '/en/exchange-rates' : '/kursna-lista'}
              class="footer__link rw-24-500">{t.list}</a
            >
          </li>
          <li class="footer__item">
            <a href={lang === 'en' ? '/en/faq' : '/cesta-pitanja'} class="footer__link rw-24-500"
              >{t.faq}</a
            >
          </li>
        </ul>
      </div>
      <div class="footer__map" data-lang={lang}>
        <div
          class="footer__google-map"
          id="google-map"
          data-api-key={GOOGLE_API_KEY}
          role="region"
          aria-label="Google Map showing Menjačnica Genes location"
        >
        </div>
      </div>
    </div>
    <hr class="footer__divider" />
    <div class="footer__bottom">
      <p class="footer__copyright rw-16-500" set:html={t.copyright} />
    </div>
  </div>
</footer>
